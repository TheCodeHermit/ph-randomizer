{
  "title": "Area",
  "type": "object",
  "properties": {
    "name": {
      "title": "Name",
      "description": "The name of the area",
      "type": "string"
    },
    "rooms": {
      "title": "Rooms",
      "description": "All of the rooms inside this area",
      "minItems": 1,
      "uniqueItems": true,
      "type": "array",
      "items": {
        "$ref": "#/definitions/Room"
      }
    }
  },
  "required": [
    "name",
    "rooms"
  ],
  "definitions": {
    "Chest": {
      "title": "Chest",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the item check",
          "type": "string"
        },
        "contents": {
          "title": "Contents",
          "description": "The item that this check contains",
          "type": "string"
        },
        "zmb_file_path": {
          "title": "Zmb File Path",
          "description": "File path to the zmb the chest is on",
          "type": "string"
        },
        "zmb_mapobject_index": {
          "title": "Zmb Mapobject Index",
          "description": "Index of the chest in the defined zmb file",
          "type": "integer"
        },
        "type": {
          "title": "Type",
          "const": "chest",
          "type": "string"
        }
      },
      "required": [
        "name",
        "contents",
        "zmb_file_path",
        "zmb_mapobject_index"
      ]
    },
    "Npc": {
      "title": "Npc",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the item check",
          "type": "string"
        },
        "contents": {
          "title": "Contents",
          "description": "The item that this check contains",
          "type": "string"
        },
        "bmg_file_path": {
          "title": "Bmg File Path",
          "description": "File path to the bmg the instruction is on",
          "type": "string"
        },
        "bmg_instruction_index": {
          "title": "Bmg Instruction Index",
          "description": "Index of the instruction in the defined bmg file",
          "type": "integer"
        },
        "type": {
          "title": "Type",
          "const": "npc",
          "type": "string"
        }
      },
      "required": [
        "name",
        "contents",
        "bmg_file_path",
        "bmg_instruction_index"
      ]
    },
    "IslandShop": {
      "title": "IslandShop",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the item check",
          "type": "string"
        },
        "contents": {
          "title": "Contents",
          "description": "The item that this check contains",
          "type": "string"
        },
        "overlay": {
          "title": "Overlay",
          "description": "The code overlay this shop item is on",
          "type": "integer"
        },
        "overlay_offset": {
          "title": "Overlay Offset",
          "description": "Hex offset from overlay to the shop item",
          "type": "string"
        },
        "type": {
          "title": "Type",
          "const": "island_shop",
          "type": "string"
        }
      },
      "required": [
        "name",
        "contents",
        "overlay",
        "overlay_offset"
      ]
    },
    "Tree": {
      "title": "Tree",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the item check",
          "type": "string"
        },
        "contents": {
          "title": "Contents",
          "description": "The item that this check contains",
          "type": "string"
        },
        "zmb_file_path": {
          "title": "Zmb File Path",
          "description": "File path to the zmb the chest is on",
          "type": "string"
        },
        "zmb_mapobject_index": {
          "title": "Zmb Mapobject Index",
          "description": "Index of the chest in the defined zmb file",
          "type": "integer"
        },
        "type": {
          "title": "Type",
          "const": "tree",
          "type": "string"
        }
      },
      "required": [
        "name",
        "contents",
        "zmb_file_path",
        "zmb_mapobject_index"
      ]
    },
    "Freestanding": {
      "title": "Freestanding",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the item check",
          "type": "string"
        },
        "contents": {
          "title": "Contents",
          "description": "The item that this check contains",
          "type": "string"
        },
        "type": {
          "title": "Type",
          "const": "freestanding",
          "type": "string"
        }
      },
      "required": [
        "name",
        "contents"
      ]
    },
    "OnEnemy": {
      "title": "OnEnemy",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the item check",
          "type": "string"
        },
        "contents": {
          "title": "Contents",
          "description": "The item that this check contains",
          "type": "string"
        },
        "type": {
          "title": "Type",
          "const": "on_enemy",
          "type": "string"
        }
      },
      "required": [
        "name",
        "contents"
      ]
    },
    "Door": {
      "title": "Door",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of this exit",
          "type": "string"
        },
        "link": {
          "title": "Link",
          "description": "The `entrance` or `door` where this exit leads.",
          "type": "string"
        }
      },
      "required": [
        "name",
        "link"
      ]
    },
    "Room": {
      "title": "Room",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the room",
          "type": "string"
        },
        "chests": {
          "title": "Chests",
          "description": "Item checks that can be made in this room",
          "default": [],
          "uniqueItems": true,
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/Chest"
              },
              {
                "$ref": "#/definitions/Npc"
              },
              {
                "$ref": "#/definitions/IslandShop"
              },
              {
                "$ref": "#/definitions/Tree"
              },
              {
                "$ref": "#/definitions/Freestanding"
              },
              {
                "$ref": "#/definitions/OnEnemy"
              }
            ]
          }
        },
        "doors": {
          "title": "Doors",
          "description": "All doors in this room that lead to a different room or area",
          "minItems": 1,
          "uniqueItems": true,
          "type": "array",
          "items": {
            "$ref": "#/definitions/Door"
          }
        }
      },
      "required": [
        "name",
        "doors"
      ]
    }
  }
}